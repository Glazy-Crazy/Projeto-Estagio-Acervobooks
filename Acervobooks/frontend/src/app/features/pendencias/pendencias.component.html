<div class="page-wrapper">
  <app-sidebar></app-sidebar>

  <div class="container">
  <div class="header">
    <h1>âš ï¸ PendÃªncias</h1>
    <p class="subtitle">Livros com devoluÃ§Ã£o atrasada</p>
  </div>

  <div *ngIf="loading" class="loading">Carregando...</div>

  <div *ngIf="!loading && pendencias.length === 0" class="empty success">
    <h2>âœ… Nenhuma pendÃªncia!</h2>
    <p>ParabÃ©ns! VocÃª estÃ¡ em dia com suas devoluÃ§Ãµes</p>
  </div>

  <div *ngIf="!loading && pendencias.length > 0" class="pendencias-list">
    <div *ngFor="let pend of pendencias" class="pendencia-card atrasada">
      <div class="capa">
        <img [src]="pend.livroCapaUrl || 'assets/book-placeholder.png'" [alt]="pend.livroTitulo" />
      </div>
      <div class="info">
        <h3>{{ pend.livroTitulo }}</h3>
        <p class="autor">{{ pend.livroAutor }}</p>
        <p class="data-emprestimo">ğŸ“… Emprestado em: {{ pend.dataEmprestimo }}</p>
        <p class="data-prevista">ğŸ“† DevoluÃ§Ã£o prevista: {{ pend.dataPrevistaDevolucao }}</p>
        <div class="alerta-container">
          <span class="alerta-badge">âŒ Data Expirada</span>
          <span class="dias-atraso">Atraso detectado</span>
        </div>
        <button class="btn-devolver" (click)="devolverLivro(pend.id!)">
          ğŸ”„ Devolver Agora
        </button>
      </div>
    </div>
    </div>
</div>
</div>
